<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="How to control attribute tokenization in a WDT model.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Variable injectors :: WebLogic Deploy Tooling">
    <meta name="twitter:description" content="How to control attribute tokenization in a WDT model.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-deploy-tooling/userguide/tools-config/variable_injectors/index.html">
    <meta property="og:site_name" content="WebLogic Deploy Tooling">
    <meta property="og:title" content="Variable injectors :: WebLogic Deploy Tooling">
    <meta property="og:description" content="How to control attribute tokenization in a WDT model.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="User Guide">
    <meta property="article:published_time" content="2019-02-23T17:19:24-05:00">
    <meta property="article:modified_time" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="name" content="Variable injectors :: WebLogic Deploy Tooling">
    <meta itemprop="description" content="How to control attribute tokenization in a WDT model.">
    <meta itemprop="datePublished" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="dateModified" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="wordCount" content="1381">
    <title>Variable injectors :: WebLogic Deploy Tooling</title>
    <link href="/weblogic-deploy-tooling/images/logo.png?1766461378" rel="icon" type="image/png">
    <link href="/weblogic-deploy-tooling/css/auto-complete/auto-complete.min.css?1766461378" rel="stylesheet">
    <script src="/weblogic-deploy-tooling/js/auto-complete/auto-complete.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/search-lunr.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/search.min.js?1766461378" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/weblogic-deploy-tooling/searchindex.en.js?1766461378";
    </script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.stemmer.support.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.multi.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.en.min.js?1766461378" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/weblogic-deploy-tooling/fonts/fontawesome/css/fontawesome-all.min.css?1766461378" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/weblogic-deploy-tooling/fonts/fontawesome/css/fontawesome-all.min.css?1766461378" rel="stylesheet"></noscript>
    <link href="/weblogic-deploy-tooling/css/perfect-scrollbar/perfect-scrollbar.min.css?1766461378" rel="stylesheet">
    <link href="/weblogic-deploy-tooling/css/theme.min.css?1766461378" rel="stylesheet">
    <link href="/weblogic-deploy-tooling/css/format-html.min.css?1766461378" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/userguide\/tools-config\/variable_injectors\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-deploy-tooling';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/weblogic-deploy-tooling/userguide/tools-config/variable_injectors/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/index.html"><span itemprop="name">WebLogic Deploy Tooling</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/userguide/index.html"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/userguide/tools-config/index.html"><span itemprop="name">Tools configuration</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Variable injectors</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-deploy-tooling/userguide/tools-config/tool_prop/index.html" title="Tool property file (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-deploy-tooling/userguide/limitations/limitations/index.html" title="Limitations (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable userguide" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="variable-injectors">Variable injectors</h1>



<p>Variable injectors are used to tokenize a model by substituting variable keys in place of attribute values, and creating a separate property file containing the variable values. This facilitates using the same domain model to create new domains in different environments. WebLogic Deploy Tooling includes several built-in injector directive files that can be used as-is or with modifications, and allows for creation of custom injector files.</p>
<p>Variable injectors are used by the 

<a href="/weblogic-deploy-tooling/userguide/tools/discover/"
   
   >
Discover Domain Tool
</a>
, the 

<a href="/weblogic-deploy-tooling/userguide/tools/prepare/"
   
   >
Prepare Model Tool
</a>
, and the standalone 

<a href="/weblogic-deploy-tooling/userguide/tools/variable_injection/"
   
   >
Variable Injector Tool
</a>
 to tokenize the models they produce.</p>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Variable injection on an attribute is only performed once. After being tokenized, an attribute is not re-tokenized by any subsequent injector directives.</p>
  </div>
</details>
<h4 id="default-configuration">Default configuration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The default injector configuration is used by the standalone Variable Injector Tool, and by the Discover Domain Tool when it is run without the <code>-target</code> option. To enable variable injection for these tools, create a variable injector configuration by placing a JSON file named <code>model_variable_injector.json</code> into the <code>&lt;WLSDEPLOY&gt;/lib</code> directory.</p>
<p>Another option is to configure variable injection in a 

<a href="/weblogic-deploy-tooling/userguide/tools-config/custom_config/"
   
   >
Custom configuration
</a>
 directory. Create the <code>model_variable_injector.json</code> file in the <code>$WDT_CUSTOM_CONFIG</code> directory.</p>
<p>The variable injector configuration file contains a list of injector names that map to the names of the injector files to be applied to the model.</p>
<p>Here is an example of a <code>model_variable_injector.json</code> file that will apply <code>topology</code> and <code>custom</code> injectors to the model.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;injectors&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;topology&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;custom&#34;</span>
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Each injector name in the list refers to an 

<a href="#injector-directive-files"
   
   >
injector directive file
</a>
, and they are applied to the attributes in the model in the specified order.</p>
<p>A sample of a <code>model_variable_injector.json</code> file is included in the <code>WLSDEPLOY/samples</code> directory.</p>
<h4 id="targeted-configuration">Targeted configuration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>Targeted injector configuration is used by the Prepare Model Tool, and by the Discover Domain Tool when it is run with the <code>-target</code> option. In this case, the list of injector names to be applied is specified in the <code>variable_injectors</code> field of the <code>$WLSDEPLOY_HOME/lib/targets/&lt;target-name&gt;/target.json</code> configuration file. For example, the <code>$WLSDEPLOY_HOME/lib/targets/wko/target.json</code> file contains this value:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;variable_injectors&#34;</span> : [<span style="color:#e6db74">&#34;port&#34;</span>, <span style="color:#e6db74">&#34;host&#34;</span>, <span style="color:#e6db74">&#34;url&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Each injector name in the list refers to an 

<a href="#injector-directive-files"
   
   >
injector directive file
</a>
, and they are applied to the attributes in the model in the specified order.</p>
<p>For more information on creating and extending target configurations, see 

<a href="/weblogic-deploy-tooling/userguide/target_env/"
   
   >
Target environments
</a>
.</p>
<h4 id="injector-directive-files">Injector directive files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>Injector directive files contain a list of qualified attribute paths and associated directives. When a matching attribute is found in the model, the associated directive is applied to that attribute, then a property token with a unique variable name is injected into the model and replaces the attribute value. The variable name and model attribute value are placed into the external variable properties file.</p>
<p>Injector directive files are placed in the <code>$WLSDEPLOY_HOME/lib/injectors</code> directory. User-defined files can be placed there or in a 

<a href="/weblogic-deploy-tooling/userguide/tools-config/custom_config/"
   
   >
Custom configuration
</a>
 directory. To use the custom configuration directory, place these files in <code>$WDT_CUSTOM_CONFIG/lib/injectors</code>.</p>
<p>WebLogic Deploy Tool includes these pre-configured injector directive files:</p>
<ul>
<li><code>host.json</code> - All MBean host attribute values in the model are injected with a variable.</li>
<li><code>port.json</code> - All MBean port attribute values in the model are injected with a variable.</li>
<li><code>target.json</code> - All MBean target attribute values in the model are injected with a variable.</li>
<li><code>topology.json</code> - Common environmental MBean attributes found in the topology section of the model are injected with a variable. This includes server, machine and Node Manager ports, listen addresses, and cluster messaging modes, addresses and ports.</li>
<li><code>url.json</code> - All MBean URL attribute values in the model are injected with a variable.</li>
</ul>
<p>The following is a model snippet that shows injected variables after applying the <code>port</code> injector directive file.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">soa_domain</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminServerName</span>: <span style="color:#ae81ff">AdminServer</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">soa_cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">osb_cluster</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Server</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">AdminServer</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenAddress</span>: <span style="color:#ae81ff">myadmin.example.com</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.AdminServer.ListenPort@@</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Machine</span>: <span style="color:#ae81ff">machine1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SSL</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.SSL.AdminServer.ListenPort@@</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">soa_server1</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenAddress</span>: <span style="color:#ae81ff">managed1.example.com</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.soa_server1.ListenPort@@</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#ae81ff">soa_cluster</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Machine</span>: <span style="color:#ae81ff">machine2</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SSL</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.SSL.soa_server1.ListenPort@@</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">soa_server2</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenAddress</span>: <span style="color:#ae81ff">managed2.example.com</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.soa_server2.ListenPort@@</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#ae81ff">soa_cluster</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Machine</span>: <span style="color:#ae81ff">machine3</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SSL</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ListenPort</span>: @@<span style="color:#ae81ff">PROP:Server.SSL.soa_server2.ListenPort@@</span></span></span></code></pre></div>
<p>And the resulting variable property file:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>Server.AdminServer.ListenPort=7001
Server.AdminServer.SSL.ListenPort=7002
Server.soa_server1.ListenPort=8001
Server.soa_server1.SSL.ListenPort=8002
Server.soa_server2.ListenPort=8001
Server.soa_server2.SSL.ListenPort=8002</code></pre></div>
<h4 id="custom-variable-injector">Custom variable injector<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>To use custom injector directives, create an injector directive file with a meaningful name, and place it in the <code>$WLSDEPLOY_HOME/lib/injectors</code> directory, or <code>$WDT_CUSTOM_CONFIG/lib/injectors</code> if using a custom configuration directory. Add the file prefix to the list in the <code>model_variable_injector.json</code> file, or in the <code>target.json</code> file if targeted configuration is used. For example, create the file <code>custom.json</code>, and add a <code>custom</code> entry to the list.</p>
<p>An injector directive contains a key that identifies an attribute to be tokenized, and an optional set of directive properties. The key is a period-separated MBean hierarchy and attribute name as they are defined in the model. Always exclude the name of the model section from the injector key.</p>
<p>For example, an injector directive for the Server SSL Listen Port is as follows. This directive contains no additional properties.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;Server.SSL.ListenPort&#34;</span>: {}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p><strong>NOTE</strong>: The hierarchy of MBeans in the model for the <code>ListenPort</code> attribute. Note that the MBean name of <code>AdminServer</code> is NOT included in the directive:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Server</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">AdminServer</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenAddress</span>: <span style="color:#ae81ff">myadmin.example.com</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">7001</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Machine</span>: <span style="color:#ae81ff">machine1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SSL</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Enabled</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">7002</span></span></span></code></pre></div>
<p>A sample of a custom injector directive file is included in the <code>$WLSDEPLOY_HOME/samples/injectors</code> directory.</p>
<h4 id="injector-directive-properties">Injector directive properties<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>Include the following properties to refine the directive as specified.</p>
<ul>
<li>
<p><code>force:&lt;attribute&gt;</code>
If the MBean hierarchy exists in the model, but the attribute does not, then the attribute will be added and persisted to the resulting model. The value stored in the
model is the WebLogic default value.</p>
</li>
<li>
<p><code>variable_value</code>:
Replace the model value with the specified value in the variable properties. This may be used in conjunction with the force directive, replacing the default value with the indicated value.</p>
</li>
<li>
<p><code>regexp</code>:
A list of <code>regexp</code> patterns that will be applied to either the string values or map values of an attribute in the model. If the pattern matches, then the matching part of the
string or dictionary will be injected with a property token and a unique variable name.</p>
<ul>
<li>
<p><code>pattern</code>:
The regular expression pattern to apply to the string value or map values of an attribute.</p>
</li>
<li>
<p><code>suffix</code>:
The suffix name to append to each resulting variable name in order to create a unique variable name.</p>
</li>
</ul>
</li>
</ul>
<p>The <code>regexp</code> list is useful when only a segment of a string value or map needs to be tokenized (giving you a clean list of property values in the variable properties file). You can inject more than one token into a string or map with multiple patterns. However, when you have more than one pattern, you must provide a suffix for each. This allows the tool to generate a unique variable name for each token in the string or map.</p>
<p>The following is an example of how to effectively use the <code>regexp</code> directive list to search for a segment in a string value. In this example, we want to search for the host and port in each Oracle JDBC URL that uses the special Oracle URL notation, and create an entry for the host and port in the variable properties file.</p>
<p>In the model, we expect to find a URL like the following:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>    <span style="color:#f92672">JDBCSystemResource</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Database1</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">JdbcResource</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">JDBCDriverParams</span>:
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">URL</span>: <span style="color:#e6db74">&#39;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=slc05til.us.oracle.com)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=orcl.us.oracle.com)))&#39;</span></span></span></code></pre></div>
<p>We create a directive in our custom injector JSON file:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;JDBCSystemResource.JdbcResource.JDBCDriverParams.URL&#34;</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;regexp&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;pattern&#34;</span>: <span style="color:#e6db74">&#34;(?&lt;=PORT=)[\\w.-]+(?=\\))&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;suffix&#34;</span>: <span style="color:#e6db74">&#34;Port&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;pattern&#34;</span>: <span style="color:#e6db74">&#34;(?&lt;=HOST=)[\\w.-]+(?=\\))&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;suffix&#34;</span>: <span style="color:#e6db74">&#34;Host&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  }<span style="color:#960050;background-color:#1e0010">,</span></span></span></code></pre></div>
<p>When the tool is run, the pattern is applied to the URL string and tokens injected into the string:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">URL</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=@@PROP:JDBCSystemResource.Database1.JdbcResource.JDBCDriverParams.URL--Host@@:)(PORT=@@PROP:JDBCSystemResource.Database1.JdbcResource.JDBCDriverParams.URL--Port@@)))(CONNECT_DATA=(SERVICE_NAME=orcl.us.oracle.com)))&#39;</span></span></span></code></pre></div>
<p>And the variables put in the properties file:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">JDBCSystemResource.Database1.JdbcResource.JDBCDriverParams.URL--Host</span><span style="color:#f92672">=</span><span style="color:#e6db74">slc05til.us.oracle.com</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">JDBCSystemResource.Database1.JdbcResource.JDBCDriverParams.URL--Port</span><span style="color:#f92672">=</span><span style="color:#e6db74">1521</span></span></span></code></pre></div>
<h4 id="selecting-specific-mbean-names-for-variable-injection">Selecting specific MBean names for variable injection<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>This final custom directive allows you to explicitly define which named entries for an MBean in the model you want to inject properties. For instance, you might want to tokenize an attribute just for a specific server. To define a list of one or more names for a specific MBean in the injector directive hierarchy, format the list as follows:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>MBean[comma separated list of names]</code></pre></div>
<p>To select only the Administration Server named <code>AdminServer</code> for a Server directive, use the format <code>Server[AdminServer]</code>. To select servers <code>soa_server1</code> and <code>soa_server2</code>, format the key as <code>Server[soa_server1,soa_server2]</code>.</p>
<p>The injector tool recognizes two KEYWORDS for a user list, <code>MANAGED_SERVERS</code> (all the Managed Servers in the model) and <code>ADMIN_SERVER</code> (the Administration Server in the model).</p>
<p>A custom injector for the Administration Server SSL listen port is:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;Server[ADMIN_SERVER].SSL.ListenPort&#34;</span>: {}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
 
 <a id="logo" href="https://oracle.github.io/weblogic-deploy-tooling/">
   <img src="https://oracle.github.io/weblogic-deploy-tooling//images/logo.png" height="90"><br/>
   WebLogic Deploy Tooling
 </a>

        </div>
        <search><form action="/weblogic-deploy-tooling/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/index.html"><a class="padding" href="/weblogic-deploy-tooling/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/concepts/index.html"><a class="padding" href="/weblogic-deploy-tooling/concepts/index.html"><b> </b>Concepts</a><ul id="R-subsections-90941c33b457a4d12ffdbc0aa62a266d" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/weblogic-deploy-tooling/userguide/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/index.html"><b> </b>User Guide</a><ul id="R-subsections-74b4df3a3d9365853f09e9f1dfe7bbba" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/install/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/install/index.html">Install WDT</a></li>
            <li class="alwaysopen " data-nav-url="/weblogic-deploy-tooling/userguide/tools/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/index.html"><b> </b>WDT Tools</a><ul id="R-subsections-7b3bc9511e17e6cce72c059be01d1c1d" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/target_env/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/target_env/index.html">Target environments</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/database/connect-db/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/database/connect-db/index.html">Connect to a database</a></li>
            <li class="parent alwaysopen " data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/index.html">Tools configuration</a><ul id="R-subsections-c4669204bf8f7b2300872f9f21388cb1" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/model_filters/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/model_filters/index.html">Model filters</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/domain_def/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/domain_def/index.html">Domain type definitions</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/custom_config/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/custom_config/index.html">Custom configuration</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/logging/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/logging/index.html">Logging</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/tool_prop/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/tool_prop/index.html">Tool property file</a></li>
            <li class="active " data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/variable_injectors/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/variable_injectors/index.html">Variable injectors</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/limitations/limitations/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/limitations/limitations/index.html">Limitations</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/samples/index.html"><a class="padding" href="/weblogic-deploy-tooling/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/developer/index.html"><a class="padding" href="/weblogic-deploy-tooling/developer/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6b6629b4a7f3145ff0ada8006909039e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/release-notes/index.html"><a class="padding" href="/weblogic-deploy-tooling/release-notes/index.html"><b> </b>Release Notes</a><ul id="R-subsections-69eef8340bbcc56dffc8dd98905aeadf" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-deploy-tooling"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="/weblogic-deploy-tooling/js/perfect-scrollbar/perfect-scrollbar.min.js?1766461378" defer></script>
    <script src="/weblogic-deploy-tooling/js/theme.min.js?1766461378" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
