<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="Creates a domain and populates the domain with all the resources and applications specified in the model.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Create Domain Tool :: WebLogic Deploy Tooling">
    <meta name="twitter:description" content="Creates a domain and populates the domain with all the resources and applications specified in the model.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-deploy-tooling/userguide/tools/create/index.html">
    <meta property="og:site_name" content="WebLogic Deploy Tooling">
    <meta property="og:title" content="Create Domain Tool :: WebLogic Deploy Tooling">
    <meta property="og:description" content="Creates a domain and populates the domain with all the resources and applications specified in the model.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="User Guide">
    <meta property="article:published_time" content="2019-02-23T17:19:24-05:00">
    <meta property="article:modified_time" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="name" content="Create Domain Tool :: WebLogic Deploy Tooling">
    <meta itemprop="description" content="Creates a domain and populates the domain with all the resources and applications specified in the model.">
    <meta itemprop="datePublished" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="dateModified" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="wordCount" content="2102">
    <title>Create Domain Tool :: WebLogic Deploy Tooling</title>
    <link href="/weblogic-deploy-tooling/images/logo.png?1772164640" rel="icon" type="image/png">
    <link href="/weblogic-deploy-tooling/css/auto-complete/auto-complete.min.css?1772164640" rel="stylesheet">
    <script src="/weblogic-deploy-tooling/js/auto-complete/auto-complete.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/search-lunr.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/search.min.js?1772164640" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/weblogic-deploy-tooling/searchindex.en.js?1772164640";
    </script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.stemmer.support.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.multi.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/lunr/lunr.en.min.js?1772164640" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/weblogic-deploy-tooling/fonts/fontawesome/css/fontawesome-all.min.css?1772164640" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/weblogic-deploy-tooling/fonts/fontawesome/css/fontawesome-all.min.css?1772164640" rel="stylesheet"></noscript>
    <link href="/weblogic-deploy-tooling/css/perfect-scrollbar/perfect-scrollbar.min.css?1772164640" rel="stylesheet">
    <link href="/weblogic-deploy-tooling/css/theme.min.css?1772164640" rel="stylesheet">
    <link href="/weblogic-deploy-tooling/css/format-html.min.css?1772164640" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/userguide\/tools\/create\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-deploy-tooling';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/weblogic-deploy-tooling/userguide/tools/create/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#user-password-validation">User password validation</a></li>
        <li><a href="#using-an-encrypted-model">Using an encrypted model</a></li>
        <li><a href="#using-multiple-models">Using multiple models</a></li>
        <li><a href="#development-domain-and-bootproperties">Development domain and <code>boot.properties</code></a></li>
        <li><a href="#environment-variables">Environment variables</a></li>
        <li><a href="#opening-an-issue-against-the-create-domain-tool">Opening an issue against the Create Domain Tool</a></li>
        <li><a href="#parameter-table-for-createdomain">Parameter table for <code>createDomain</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/index.html"><span itemprop="name">WebLogic Deploy Tooling</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/userguide/index.html"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-deploy-tooling/userguide/tools/index.html"><span itemprop="name">WDT Tools</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Create Domain Tool</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-deploy-tooling/userguide/tools/shared/exit_codes/index.html" title="Tool Exit Codes (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-deploy-tooling/userguide/tools/update/index.html" title="Update Domain Tool (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable userguide" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="create-domain-tool">Create Domain Tool</h1>



<p>The Create Domain Tool uses a model and WLST offline to create a domain.  To use the tool, at a minimum, the model must
specify the domain&rsquo;s administrative password in the <code>domainInfo</code> section of the model, as shown below.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminPassword</span>: <span style="color:#ae81ff">welcome1</span></span></span></code></pre></div>
<p>Using the model above, simply run the <code>createDomain</code> tool, specifying where to create the WebLogic Server domain.</p>
<pre><code>$ weblogic-deploy\bin\createDomain.cmd -oracle_home c:\wls12213 -domain_parent d:\demo\domains -model_file MinimalDemoDomain.yaml
</code></pre>
<p>Clearly, creating an empty domain with only the template-defined servers is not very interesting, but this example just
reinforces how sparse the model can be.  When running the Create Domain Tool, the model file must be provided.  Any
references to external files must either already exist or be included in the archive file.  If the model references
one or more paths into the archive file (for example, <code>wlsdeploy/applications/myapp.war</code>), the Create Domain Tool will
generate errors if the <code>-archive_file &lt;archive-file-name&gt;</code> is not supplied or the archive file supplied does not include
the path specified.</p>
<p>For more information about the archive file and its structure, please refer to the [Archive File]
(/weblogic-deploy-tooling/concepts/archive/) page.</p>
<p>You can customize the model to externalize configuration values that change across environments by using model tokens
that reference properties defined in a variable file.  These model tokens are of the form <code>@@PROP:&lt;name&gt;@@</code>, where
<code>&lt;name&gt;</code> maps to a property name in the variable file supplied with the <code>-variable_file &lt;variable-file-name&gt;</code>
command-line argument.  Let&rsquo;s look at an example.</p>
<p>The following model section uses model tokens for a JDBC DataSource URL, user name, and password.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">JDBCSystemResource</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MyDatabase</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Target</span>: <span style="color:#ae81ff">mycluster</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">JdbcResource</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">DatasourceType</span>: <span style="color:#ae81ff">GENERIC</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">JDBCConnectionPoolParams</span>:
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">ConnectionReserveTimeoutSeconds</span>: <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">InitialCapacity</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">MaxCapacity</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">MinCapacity</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">TestConnectionsOnReserve</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">TestTableName</span>: <span style="color:#ae81ff">SQL ISVALID</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">JDBCDriverParams</span>:
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">DriverName</span>: <span style="color:#ae81ff">oracle.jdbc.OracleDriver</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">PasswordEncrypted</span>: <span style="color:#e6db74">&#39;@@PROP:JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.PasswordEncrypted@@&#39;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">URL</span>: <span style="color:#e6db74">&#39;@@PROP:JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.URL@@&#39;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>                        <span style="color:#f92672">user</span>:
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">Value</span>: <span style="color:#e6db74">&#39;@@PROP:JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.Properties.user.Value@@&#39;</span></span></span></code></pre></div>
<p>The following variable file specifies the values that will be substituted for each token.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#a6e22e">JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.URL</span><span style="color:#f92672">=</span><span style="color:#e6db74">jdbc:oracle:thin:@//mydb.example.com:1539/PDBORCL</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.Properties.user.Value</span><span style="color:#f92672">=</span><span style="color:#e6db74">scott</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">JDBCSystemResource.MyDatabase.JdbcResource.JDBCDriverParams.PasswordEncrypted</span><span style="color:#f92672">=</span><span style="color:#e6db74">tiger</span></span></span></code></pre></div>
<p>The following command-line supplies the variable file to enable token resolution while creating the domain.</p>
<pre><code>$ weblogic-deploy\bin\createDomain.cmd -model_file mymodel.yaml -variable_file myvariables.properties -oracle_home c:\wls12213 -domain_parent d:\demo\domains
</code></pre>
<h4 id="domain-types">Domain types<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>By default, the Create Domain Tool, like all other WDT tools, assumes that the domain being created is a pure WebLogic
Server domain.  What it means to be a WebLogic Server domain is defined by the <code>WLS</code> typedef file, located at
<code>weblogic-deploy/lib/typedefs/WLS.json</code>.  Other domain types are known simply by having the corresponding typedef file
installed at <code>weblogic-deploy/lib/typedefs/&lt;type-name&gt;.json</code>.  For example, the <code>JRF</code> domain type is defined by the
<code>weblogic-deploy/lib/typedefs/JRF.json</code> typedef file.</p>
<p>When creating a domain of another type, simply add the <code>-domain_type &lt;type-name&gt;</code> command-line argument; for example,
for a JRF domain, add <code>-domain_type JRF</code> to the command-line arguments.  Domain typedefs play an important role for the
Create Domain Tool because they tell the tool what domain templates to apply, how to handle targeting of resources
defined by the domain templates, and information about any RCU schemas that are needed.  For more information, refer to


<a href="/weblogic-deploy-tooling/userguide/tools-config/domain_def/"
   
   >
Domain type definitions
</a>
 page.</p>
<p>An example of using the domain type argument:</p>
<pre><code>$ weblogic-deploy\bin\createDomain.cmd -domain_type JRF -model_file model.yaml -oracle_home c:\wls12213 -domain_parent d:\demo\domains 
</code></pre>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>When specifying a domain type, it is critical that the Oracle Home being referenced has the necessary products installed.
For example, to create a <code>JRF</code> domain, the Oracle Home needs to have the FMW Infrastructure installed.</p>
  </div>
</details>
<p>When creating domains whose type relies on RCU schemas, you must create the RCU schemas in the database.  This can be
accomplished by either running the <code>rcu</code> utility installed in the Oracle Home (for example,
<code>$ORACLE_HOME/oracle_common/bin/rcu</code>) directly or having the Create Domain Tool run RCU for you.  With either approach,
the <code>domainInfo:/RCUDbInfo</code> section is important to provide the information needed to configure the template-defined
RCU data sources.  The following example shows the minimal set of attributes required when the <code>rcu</code> utility has already
been used to create the schemas.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">RCUDbInfo</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_db_conn_string</span>: <span style="color:#ae81ff">mydb.example.com:1539/PDBORCL</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_prefix</span>: <span style="color:#ae81ff">DEMO</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_schema_password</span>: <span style="color:#ae81ff">my-demo-password</span></span></span></code></pre></div>
<p>When using the Create Domain Tool to create the RCU schemas, the <code>rcu_admin_password</code> attribute must also be specified.
If the database administrative user is not <code>sys as sysdba</code>, then the <code>rcu_admin_user</code> attribute is used to specify the
database administrative user name that should be used instead.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">RCUDbInfo</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_db_conn_string</span>: <span style="color:#ae81ff">mydb.example.com:1539/PDBORCL</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_prefix</span>: <span style="color:#ae81ff">DEMO</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_admin_user</span>: <span style="color:#ae81ff">admin</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_admin_password</span>: <span style="color:#ae81ff">my-admin-password</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">rcu_schema_password</span>: <span style="color:#ae81ff">my-demo-password</span></span></span></code></pre></div>
<p>The RCUDbInfo section has other fields that may be important in more advanced scenarios.  Please see the


<a href="/weblogic-deploy-tooling/userguide/database/connect-db/"
   
   >
Connect to a database
</a>
 page for more information.</p>
<p>Once the model is properly configured for running RCU, simply add the <code>-run_rcu</code> argument to the Create Domain Tool
command line.</p>
<pre><code>$ weblogic-deploy\bin\createDomain.cmd -run_rcu -domain_type JRF -run_rcu -model_file jrf-model.yaml -oracle_home c:\wls12213 -domain_parent d:\demo\domains 
</code></pre>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>When using the <code>-run_rcu</code> to create the RCU schemas, note that the default behavior of the Create Domain Tool is to
first try to drop the schemas prior to creating them.  This behavior can be disabled using the <code>disable.rcu.drop.schema</code>
property in the <code>tool.properties</code> file.  See the [Tool property file]
(/weblogic-deploy-tooling/userguide/tools-config/tool_prop/) page for more information.</p>
  </div>
</details>
<p>To create more complex domains, it may be necessary to create a custom domain type. This is useful for cases where the
domain has custom templates, or templates for other Oracle products. For more information, refer to


<a href="/weblogic-deploy-tooling/userguide/tools-config/domain_def/"
   
   >
Domain type definitions
</a>
.</p>
<h3 id="user-password-validation">User password validation<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>By default, WLST offline requires the administrator password to have a minimum of 8 characters and a minimum of 1
numeric or special character.  The Create Domain tool will validate both the <code>domainInfo</code> section&rsquo;s <code>AdminPassword</code>
attribute value and any <code>Password</code> fields for users added in the <code>topology</code> section&rsquo;s <code>Security/User</code> section against
the default rules.</p>
<p>Prior to 3.5.0, validation errors for the administrator password resulted in a WLST error that aborted domain creation
while validation errors for other users resulted in warnings from WDT even though the domain and user was created.
However, due to a bug, any of these users with an invalid password were created with an unusable password.</p>
<p>Starting in 3.5.0, this validation has been unified and enhanced.  Now, password validation:</p>
<ul>
<li>Happens upfront during model validation;</li>
<li>Logs errors for all users&rsquo; password validation errors and aborts the domain creation process;</li>
<li>Takes into account any model settings for the WebLogic Server System Password Validator to ensure passwords
follow its settings.  For example, if model contains the snippet shown below, the minimum length of the passwords
will be 12 instead of the default value of 8.  Any attributes not present in the model will use their default values
during password validation.</li>
</ul>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">SecurityConfiguration</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Realm</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">myrealm</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">PasswordValidator</span>:
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">SystemPasswordValidator</span>:
</span></span><span style="display:flex;"><span>                        <span style="color:#f92672">SystemPasswordValidator</span>:
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">MinPasswordLength</span>: <span style="color:#ae81ff">12</span></span></span></code></pre></div>
<p><strong>WARNING:</strong> The <code>MinPasswordLength</code> attribute, whose default value is 8, and the <code>MinNumericOrSpecialCharacters</code>
attribute, whose default value is 1, have special behavior.  WLST offline does not consider these
values when validating the administrator password.  Instead, it always uses the default values so even if
Create Domain allowed a lower value, WLST offline would fail to create the domain due to the password
not meeting these default values.  For this new password validation purposes only, Create Domain will
use the larger value between the one specified in the model and the default value.  Create Domain will
still create the <code>SystemPasswordValidator</code> security provider with the exact settings in the model.</p>
<p>This new validation behavior can be disabled by setting the <code>enable.create.domain.password.validation</code> property to
<code>false</code> in <code>$WLSDEPLOY_HOME/lib/tool.properties</code> or by adding
<code>-Dwdt.config.enable.create.domain.password.validation=false</code> to the <code>WLSDEPLOY_PROPERTIES</code> environment variable prior
to invoking the Create Domain tool.  Note that disabling this validation will disable all validation of passwords
except for the WLST offline validation of the domain&rsquo;s administrative password.</p>
<h3 id="using-an-encrypted-model">Using an encrypted model<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>If the model or variables file contains passwords encrypted with the WDT Encrypt Model Tool, you must provide the
WDT encryption passphrase used to encrypt the model so that the Create Domain Tool can decrypt them.  To do this,
provide one of the following command-line arguments:</p>
<ul>
<li><code>-passphrase_env &lt;ENV_VAR&gt;</code> - read the passphrase from the specified environment variable,</li>
<li><code>-passphrase_file &lt;file-name&gt;</code> - read the passphrase from a file that contains the passphrase, or</li>
<li><code>-passphrase_prompt</code> - have the tool read the passphrase from <code>stdin</code>, either by prompting or piping the value to
the shell script&rsquo;s standard input.</li>
</ul>
<h3 id="using-multiple-models">Using multiple models<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>The Create Domain Tool supports the use of multiple models, as described in


<a href="/weblogic-deploy-tooling/concepts/model/#using-multiple-models"
   
   >
Using multiple models
</a>
.</p>
<h3 id="development-domain-and-bootproperties">Development domain and <code>boot.properties</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>When creating a development domain, WDT provides the convenience of making a <code>boot.properties</code> file for each of the
servers in the domain. The <code>boot.properties</code> file will contain encrypted values of the Administration Server user name
and password. When the Administration Server or Managed Server is started, WebLogic Server will bypass the prompt for
credentials, and instead use the credentials from the <code>boot.properties</code> file.</p>
<p>A domain is in production mode if the <code>ServerStartMode</code> option is set to either <code>prod</code> or <code>secure</code>, or if the domain
MBean&rsquo;s <code>ProductionModeEnabled</code> attribute is set to <code>true</code>.  It is an anti-pattern to use both attributes in the same
model.</p>
<p>The <code>boot.properties</code> file is stored in the domain home on the machine where WDT runs. It is stored for each server
as <code>&lt;domain_home&gt;/servers/&lt;server_name&gt;/security/boot.properties</code>.</p>
<p>The following is a model example using <code>ServerStartMode</code> to specify the domain should be created in development mode.
Note that this example is for illustrative purposes only since the default for a domain is development mode so that
<code>ServerStartMode</code> line below has no effect.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminUserName</span>: <span style="color:#ae81ff">weblogic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminPassword</span>: <span style="color:#ae81ff">welcome1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerStartMode</span>: <span style="color:#ae81ff">dev</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">my-domain</span></span></span></code></pre></div>
<h3 id="environment-variables">Environment variables<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>The following environment variables may be set.</p>
<ul>
<li><code>JAVA_HOME</code>             The location of the JDK. This must be a valid Java 7 or later JDK.</li>
<li><code>WLSDEPLOY_PROPERTIES</code>  System properties that will be passed to WLST.</li>
</ul>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>When running the Create Domain Tool (and any other tool that use WLST), the actual JDK used to run the tool
will be the JDK used to install WebLogic Server in the Oracle Home and not the one defined by the <code>JAVA_HOME</code>
environment variable.  The best practice is to set <code>JAVA_HOME</code> to point to the same JDK installation that was used to
install WebLogic Server.</p>
  </div>
</details>
<h3 id="opening-an-issue-against-the-create-domain-tool">Opening an issue against the Create Domain Tool<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Please provide the full console output of the tool (that is, what is printed to stdout and stderr) and the log file,
<code>createDomain.log</code>, which is typically found in the <code>&lt;install home&gt;/weblogic-deploy/logs</code> directory.  If possible,
please provide the model, variable and archive files, and any other information that helps to understand the
environment, what you are doing, and what is happening.</p>
<h3 id="parameter-table-for-createdomain">Parameter table for <code>createDomain</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Definition</th>
          <th>Default</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>-archive_file</code></td>
          <td>The path to the archive file to use.  If the <code>-model_file</code> argument is not specified, the model file in this archive will be used.  This can also be specified as a comma-separated list of archive files.  The overlapping contents in each archive take precedence over previous archives in the list.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-domain_home</code></td>
          <td>Required if <code>-domain_parent</code> is not used. The full directory and name where the domain should be created.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-domain_parent</code></td>
          <td>Required if <code>-domain_home</code> is not used. The parent directory where the domain should be created. The name is the domain name in the model.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-domain_type</code></td>
          <td>The type of domain (for example, <code>WLS</code>, <code>JRF</code>).</td>
          <td><code>WLS</code></td>
      </tr>
      <tr>
          <td><code>-java_home</code></td>
          <td>The Java home to use for the new domain. If not specified, it defaults to the value of the <code>JAVA_HOME</code> environment variable.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-model_file</code></td>
          <td>The location of the model file.  This can also be specified as a comma-separated list of model locations, where each successive model layers on top of the previous ones.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-oracle_home</code></td>
          <td>Home directory of the Oracle WebLogic installation. Required if the <code>ORACLE_HOME</code> environment variable is not set.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-opss_wallet</code></td>
          <td>The location of the Oracle wallet containing the domain&rsquo;s encryption key required to reconnect to an existing set of RCU schemas.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-opss_wallet_passphrase_env</code></td>
          <td>An alternative to entering the OPSS wallet passphrase at a prompt. The value is an environment variable name that WDT will use to retrieve the passphrase.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-opss_wallet_passphrase_file</code></td>
          <td>An alternative to entering the OPSS wallet passphrase at a prompt. The value is the name of a file with a string value which WDT will read to retrieve the passphrase.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-passphrase_env</code></td>
          <td>An alternative to entering the encryption passphrase at a prompt. The value is an environment variable name that WDT will use to retrieve the passphrase.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-passphrase_file</code></td>
          <td>An alternative to entering the encryption passphrase at a prompt. The value is the name of a file with a string value which WDT will read to retrieve the passphrase.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-passphrase_prompt</code></td>
          <td>Allow WDT to prompt for the encryption passphrase or read it from stdin.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-run_rcu</code></td>
          <td>Run RCU to create the database schemas specified by the domain type using the specified RCU prefix. Running RCU will drop any existing schemas with the same RCU prefix if they exist prior to trying to create them.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-use_encryption</code></td>
          <td>(deprecated) Replaced by the <code>-passphrase_prompt</code> argument.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>-variable_file</code></td>
          <td>The location of the property file containing the values for variables used in the model. This can also be specified as a comma-separated list of property files, where each successive set of properties layers on top of the previous ones.</td>
          <td></td>
      </tr>
  </tbody>
</table>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
 
 <a id="logo" href="https://oracle.github.io/weblogic-deploy-tooling/">
   <img src="https://oracle.github.io/weblogic-deploy-tooling//images/logo.png" height="90"><br/>
   WebLogic Deploy Tooling
 </a>

        </div>
        <search><form action="/weblogic-deploy-tooling/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/index.html"><a class="padding" href="/weblogic-deploy-tooling/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/concepts/index.html"><a class="padding" href="/weblogic-deploy-tooling/concepts/index.html"><b> </b>Concepts</a><ul id="R-subsections-90941c33b457a4d12ffdbc0aa62a266d" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/weblogic-deploy-tooling/userguide/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/index.html"><b> </b>User Guide</a><ul id="R-subsections-74b4df3a3d9365853f09e9f1dfe7bbba" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/install/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/install/index.html">Install WDT</a></li>
            <li class="parent alwaysopen " data-nav-url="/weblogic-deploy-tooling/userguide/tools/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/index.html"><b> </b>WDT Tools</a><ul id="R-subsections-7b3bc9511e17e6cce72c059be01d1c1d" class="collapsible-menu">
            <li class="alwaysopen " data-nav-url="/weblogic-deploy-tooling/userguide/tools/shared/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/shared/index.html">Shared functionality</a><ul id="R-subsections-7d93f57c18d307256ce8f706cdaa4974" class="collapsible-menu"></ul></li>
            <li class="active " data-nav-url="/weblogic-deploy-tooling/userguide/tools/create/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/create/index.html">Create Domain Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/update/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/update/index.html">Update Domain Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/deploy/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/deploy/index.html">Deploy Applications Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/discover/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/discover/index.html">Discover Domain Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/encrypt/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/encrypt/index.html">Encrypt Model Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/validate/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/validate/index.html">Validate Model Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/compare/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/compare/index.html">Compare Model Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/prepare/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/prepare/index.html">Prepare Model Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/kubernetes/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/kubernetes/index.html">Extract Domain Resource Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/variable_injection/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/variable_injection/index.html">Variable Injector Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/model_help/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/model_help/index.html">Model Help Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/archive_helper/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/archive_helper/index.html">Archive Helper Tool</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/tools/verify_ssh/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools/verify_ssh/index.html">Verify SSH Tool</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/target_env/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/target_env/index.html">Target environments</a></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/database/connect-db/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/database/connect-db/index.html">Connect to a database</a></li>
            <li class="alwaysopen " data-nav-url="/weblogic-deploy-tooling/userguide/tools-config/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/tools-config/index.html">Tools configuration</a><ul id="R-subsections-c4669204bf8f7b2300872f9f21388cb1" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/userguide/limitations/limitations/index.html"><a class="padding" href="/weblogic-deploy-tooling/userguide/limitations/limitations/index.html">Limitations</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/samples/index.html"><a class="padding" href="/weblogic-deploy-tooling/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/developer/index.html"><a class="padding" href="/weblogic-deploy-tooling/developer/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6b6629b4a7f3145ff0ada8006909039e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-deploy-tooling/release-notes/index.html"><a class="padding" href="/weblogic-deploy-tooling/release-notes/index.html"><b> </b>Release Notes</a><ul id="R-subsections-69eef8340bbcc56dffc8dd98905aeadf" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-deploy-tooling"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="/weblogic-deploy-tooling/js/perfect-scrollbar/perfect-scrollbar.min.js?1772164640" defer></script>
    <script src="/weblogic-deploy-tooling/js/theme.min.js?1772164640" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
